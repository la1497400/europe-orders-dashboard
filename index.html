<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>欧洲本土订单管理系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        .table-container {
            max-height: 500px;
            overflow-y: auto;
            margin-top: 20px;
        }
        .loading-spinner {
            text-align: center;
            padding: 50px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">欧洲本土订单管理系统</h1>
        
        <div id="error-alert" class="alert alert-danger d-none" role="alert">
            <h4 class="alert-heading">系统提示</h4>
            <p id="error-message">正在初始化系统...</p>
        </div>

        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stats-card">
                    <h5>总订单数</h5>
                    <h2 id="total-orders">-</h2>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <h5>总销售额</h5>
                    <h2 id="total-sales">-</h2>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <h5>总利润</h5>
                    <h2 id="total-profit">-</h2>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <h5>店铺数量</h5>
                    <h2 id="total-shops">-</h2>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">订单数据</h5>
            </div>
            <div class="card-body">
                <div class="table-container">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>订单ID</th>
                                <th>店铺</th>
                                <th>订单号</th>
                                <th>收件人</th>
                                <th>国家</th>
                                <th>状态</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table">
                            <tr>
                                <td colspan="6" class="text-center">加载中...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="mt-4 text-center text-muted">
            <small>系统版本 1.0 | 数据最后更新: <span id="update-time">-</span></small>
        </div>
    </div>

    <script>
        // 简单的页面初始化
        console.log('开始初始化页面...');
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM加载完成');
            initializePage();
        });

        function initializePage() {
            // 显示页面已加载
            document.getElementById('error-message').textContent = '页面加载成功！正在检查数据连接...';
            document.getElementById('error-alert').className = 'alert alert-info';
            document.getElementById('error-alert').classList.remove('d-none');
            
            // 更新时间
            document.getElementById('update-time').textContent = new Date().toLocaleString();
            
            // 模拟数据加载
            setTimeout(loadSampleData, 1000);
        }

        function loadSampleData() {
            console.log('加载示例数据...');
            
            // 显示示例数据
            document.getElementById('total-orders').textContent = '678';
            document.getElementById('total-sales').textContent = '€45,231.50';
            document.getElementById('total-profit').textContent = '€8,456.20';
            document.getElementById('total-shops').textContent = '5';
            
            // 更新表格
            const sampleData = [
                { id: 1, shop: '西班牙1店', order: 'PO-186-12914644941430223', name: 'Yaoyao Hu', country: 'Spain', status: '已完成' },
                { id: 2, shop: '西班牙2店', order: 'PO-186-07148030496632563', name: 'Patricia Rodriguez', country: 'Spain', status: '已完成' },
                { id: 3, shop: '意大利店', order: 'PO-098-05613576289910221', name: 'Tiziana Pastore', country: 'Italy', status: '已完成' },
                { id: 4, shop: '法国店', order: 'PO-069-16498050460790590', name: 'Di lenardo lydia', country: 'France', status: '已完成' },
                { id: 5, shop: '德国店', order: 'PO-076-18106074245754094', name: 'Katja Winkler', country: 'Germany', status: '已完成' }
            ];
            
            const tbody = document.getElementById('orders-table');
            tbody.innerHTML = '';
            
            sampleData.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td>${item.shop}</td>
                    <td>${item.order}</td>
                    <td>${item.name}</td>
                    <td>${item.country}</td>
                    <td><span class="badge bg-success">${item.status}</span></td>
                `;
                tbody.appendChild(row);
            });
            
            // 更新状态消息
            document.getElementById('error-message').textContent = '系统就绪！当前显示示例数据。实际数据连接需要配置Supabase。';
            document.getElementById('error-alert').className = 'alert alert-success';
        }

        // 添加控制台日志，帮助调试
        console.log('脚本加载完成');
    </script>
</body>
</html>
